## Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ 00 : ÐŸÐµÑ€Ð²Ñ‹Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸  

Ð¤Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸: `hh.sh`, `hh.json`  
Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ : `curl`, `jq` 

Ð’ ÑÑ‚Ð¾Ð¼ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ð¸ Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ñ **API HeadHunter**, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð²Ð°ÐºÐ°Ð½ÑÐ¸ÑÑ…. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ `curl` Ð¸ *API HeadHunter* - https://dev.hh.ru/.

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:  
Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ â€”  **data scientist**  (Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ñ‹ Ð½Ð° ÑÑ‚Ð¾Ð¼), Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿ÐµÑ€Ð²Ñ‹Ñ… 20 Ð²Ð°ÐºÐ°Ð½ÑÐ¸ÑÑ…, ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ°,
ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ ÐµÐ³Ð¾ Ð² Ñ„Ð°Ð¹Ð»Ðµ Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ `hh.json`.
Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² Ñ„Ð°Ð¹Ð»Ðµ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ñ‚Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÐºÐ°Ð¶Ð´Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð»Ð¾ÑÑŒ Ð½Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ.  

Ð ÐµÑˆÐµÐ½Ð¸Ðµ:
```bash
#!bin/sh
NAME_VACANCY="" #"data+scientist"

if [ -n "$1" ]
then
NAME_VACANCY=$1
    if [ -n "$2" ]
    then
    NAME_VACANCY=$NAME_VACANCY+$2
    fi
else
echo "No parameters found. "
fi
echo $NAME_VACANCY

 curl -o hh.json https://api.hh.ru/vacancies?text=$NAME_VACANCY

```
## Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ 01 : ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ JSON Ð² CSV  

Ð¤Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸: filter.jq, json_to_csv.sh, hh.csv  
Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ : jq  

Ð¢Ð¾, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¸ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ð¸, Ð±Ñ‹Ð»Ð¾ Ñ„Ð°Ð¹Ð»Ð¾Ð¼ JSON.  
Ð­Ñ‚Ð¾ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð´Ð»Ñ API, Ð½Ð¾ Ð¾Ð½ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½ÐµÑƒÐ´Ð¾Ð±ÐµÐ½ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ….  
ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð² Ð±Ð¾Ð»ÐµÐµ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» CSV.

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ *json_to_csv.sh* ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:  
Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ jq Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð¼, Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ñ‹Ð¼ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» filter.jq  
Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ 5 ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð², ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ð²Ð°ÐºÐ°Ð½ÑÐ¸ÑÐ¼: Â«idÂ», Â«created_atÂ», Â«nameÂ», Â«has_testÂ» Ð¸ Â«alternate_urlÂ»  
ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² CSV-Ñ„Ð°Ð¹Ð» hh.csv  

Ð¢ÐµÐ¾Ñ€Ð¸Ñ:  
**jq** â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¸ Ð¼Ð¾Ñ‰Ð½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€ JSON Ð² Linux.  
Ð¤Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸, Ð¾Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ Ð¼Ð°Ð½Ð¸Ð¿ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ JSON.  
Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð½Ñ‹Ð¹ Ð½Ð¸Ð¶Ðµ Ñ„Ð°Ð¹Ð» data.json Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð² ÑÑ‚Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐµ:
```
$ cat data.json
{
    "employees": [
        {
            "name": "Alice",
            "department": "HR",
            "age": 28
        },
        {
            "name": "Bob",
            "department": "IT",
            "age": 32
        }
    ]
}
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ÑÑ jq Ð´Ð»Ñ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ JSON Ð² CSV:  
`$ jq -r '.employees[] | [.name, .department, .age] | @csv' data.json > data.csv`

Ð—Ð´ÐµÑÑŒ,

`jq -r ` ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ jq Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð² Â«ÑÑ‹Ñ€Ð¾Ð¼Â» Ñ€ÐµÐ¶Ð¸Ð¼Ðµ , Ñ‡Ñ‚Ð¾ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð¿Ñ€Ð¸Ð³Ð¾Ð´Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð´Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ CSV.  
`[.name, .department, .age] | Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ @csv` Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ ÑÐºÑ€Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ JSON Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ CSV  
Ð—Ð°Ñ‚ÐµÐ¼ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ CSV-Ñ„Ð°Ð¹Ð» ÐºÐ°Ðº data.csv :  
```
$ cat data.csv
name,department,age
Alice,HR,28
Bob,IT,32
```

Ð ÐµÑˆÐµÐ½Ð¸Ðµ:  (!Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€)
```bash
#!bin/sh

FILE_JSON=../ex00/hh.json
OUTPUT_CSV=hh.csv
FILTER=filter.jq
title="id,created_at,name,has_test,alternate_url"

 echo $title > $OUTPUT_CSV
 jq -r -f $FILTER $FILE_JSON >> $OUTPUT_CSV
```


## Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ 02 : Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ñ„Ð°Ð¹Ð»Ð°  

Ð¤Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸: sorter.sh, hh_sorted.csv
Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ : cat, sort, head, tail

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ sorter.sh ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:

ÐžÑ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» hh.csv Ð¸Ð· Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ³Ð¾ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑÑ‚Ð¾Ð»Ð±Ñ†Ñƒ Â«created_atÂ», Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ð¿Ð¾ Â«idÂ» Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸Ñ  
ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² CSV-Ñ„Ð°Ð¹Ð»Ðµ hh_sorted.csv  
CSV-Ñ„Ð°Ð¹Ð» Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ.  


Ð ÐµÑˆÐµÐ½Ð¸Ðµ: 
```bash
#!bin/sh

FILE=../ex01/hh.csv
OUTPUT=hh_sorted.csv

head -1 $FILE > $OUTPUT
tail -20 $FILE | sort -t"," -k2 -k1  >> $OUTPUT

cat $OUTPUT
```

## Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ 03 : Ð—Ð°Ð¼ÐµÐ½Ð° ÑÑ‚Ñ€Ð¾Ðº Ð² Ñ„Ð°Ð¹Ð»Ðµ  

Ð¤Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸: cleaner.sh, hh_positions.csv
Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ : Ð±ÐµÐ· Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹

ÐÐµÐ¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ â€” ÑÑ‚Ð¾ Ð±ÐµÑÐ¿Ð¾Ñ€ÑÐ´Ð¾Ðº. ÐŸÑ€ÐµÐ¶Ð´Ðµ Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¸ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ÑŒ Ðº Ð¸Ñ… Ð°Ð½Ð°Ð»Ð¸Ð·Ñƒ, Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸. Ð’ ÑÑ‚Ð¾Ð¼ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ð¸ Ð²Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑ‚Ðµ ÑÑ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ. Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð½Ð° ÑÐ²Ð¾Ð¹ Ñ„Ð°Ð¹Ð» Ð¸Ð· Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ³Ð¾ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ, Ñ‚Ð¾ ÑƒÐ²Ð¸Ð´Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð´Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚Ð¸ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Â«Data ScientistÂ» (Ð²Ð°Ð¼ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ ÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ). Ð­Ñ‚Ð¾ Ð½ÐµÑƒÐ´Ð¸Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð¿Ð¾ÑÐºÐ¾Ð»ÑŒÐºÑƒ Ð¼Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ ÑÑ‚Ñƒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð° Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð² API HeadHunter. ÐÐ¾ Ð´Ð»Ñ Ð½Ð°Ñ, ÐºÐ°Ðº Ð¸ Ð´Ð»Ñ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð², ÑÑ‚Ð¾ Ð½Ðµ Ð´Ð°Ñ‘Ñ‚ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð¹ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸. Ð§ÐµÑÑ‚Ð½Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ñ, ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑˆÑƒÐ¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑƒÑ…ÑƒÐ´ÑˆÐ°ÐµÑ‚ Ð°Ð½Ð°Ð»Ð¸Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ….

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÑƒ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ script cleaner.sh ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ:

ÑƒÐ±Ð¸Ñ€Ð°ÐµÑ‚ â€œJuniorâ€, â€œMiddleâ€, â€œSeniorâ€ Ð¸Ð· Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ð¹ Ð´Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚ÐµÐ¹, ÐµÑÐ»Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ð· ÑÑ‚Ð¸Ñ… ÑÐ»Ð¾Ð², Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Â«-Â» (â€œSenior Data Scientistâ€ -> â€œSeniorâ€, â€œanalyst /(data scientist)â€ -> â€œ-â€, â€œÐ¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚ / data scientist (big data, Ð¿Ñ€Ð¾Ð³Ð½Ð¾ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°, data mining)â€ -> â€œ-â€ )), ÐµÑÐ»Ð¸ Ð¸Ñ… Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾, ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, â€œMiddle/Senior Data Scientistâ€ -> â€œMiddle/Seniorâ€).
ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² CSV-Ñ„Ð°Ð¹Ð»Ðµ hh_positions.csv.  
Ð’ CSV-Ñ„Ð°Ð¹Ð»Ðµ Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ, Ð¸ Ð¾Ð½ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ñ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÐµÐ¼.  

Ð¢ÐµÐ¾Ñ€Ð¸Ñ:
https://habr.com/ru/companies/ruvds/articles/327754/  
-F fs â€” Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÐ¸Ð¼Ð²Ð¾Ð»-Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ¹ Ð² Ð·Ð°Ð¿Ð¸ÑÐ¸.  
-f file â€” ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¸Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð°, Ð¸Ð· ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡ÐµÑÑ‚ÑŒ awk-ÑÐºÑ€Ð¸Ð¿Ñ‚.  
-v var=value â€” Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ð±ÑŠÑÐ²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð¸ Ð·Ð°Ð´Ð°Ñ‚ÑŒ ÐµÑ‘ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ awk.  
-mf N â€” Ð·Ð°Ð´Ð°Ñ‘Ñ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ Ð¿Ð¾Ð»ÐµÐ¹ Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð² Ñ„Ð°Ð¹Ð»Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ….  
-mr N â€” Ð·Ð°Ð´Ð°Ñ‘Ñ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð² Ñ„Ð°Ð¹Ð»Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ….  
-W keyword â€” Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¸Ð»Ð¸ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð²Ñ‹Ð´Ð°Ñ‡Ð¸ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹ awk.  

```bash
echo | awk -v home=$HOME '{print "My home is " home}'
```

Ð ÐµÑˆÐµÐ½Ð¸Ðµ:   
```bash
#!bin/sh

FILE=../ex02/hh_sorted.csv
OUTPUT=hh_positions.csv
head -1 $FILE > $OUTPUT
tail -20 $FILE |  awk -F',' '{
            if ($3 ~ /Junior/)  print $1","$2", Junior ,"$4","$5;
            else
             if ($3 ~ /Middle/)  print $1","$2",Middle ,"$4","$5;
             else
             if ($3 ~ /Senior/)  print $1","$2",Senior ,"$4","$5;
             else print $1","$2", ,"$4","$5;
             }'  >> hh_positions.csv

```
```bash
#!bin/sh

FILE=../ex03/hh_positions.csv
OUTPUT=hh_uniq_positions.csv
tmp=tmp.csv

JUN=$(grep -c 'Junior' $FILE)
echo "Junior,"$JUN > $tmp

MID=$(grep -c 'Middle' $FILE)
echo "Middle,"$MID >> $tmp


SEN=$(grep -c 'Senior' $FILE)
echo "Senior,"$SEN >> $tmp

echo "name,count" > $OUTPUT
sort $tmp -rt"," -k2   >> $OUTPUT

rm -rf $tmp
cat $OUTPUT

```
```bash
#!bin/sh

FILE=../ex03/hh_positions.csv
OUTPUT=hh_uniq_positions.csv
tmp=tmp.csv
header=$(head -1 $FILE)

tail -20 $FILE > $tmp

exec 0< $tmp

date="1"
while read line
do
ndate=${line:10:10}
if [[ $date -ne $ndate ]]
then
echo $header > $ndate.csv
echo $line >>  $ndate.csv

date=$ndate
else
echo $line >>  $date.csv

fi
done
echo $header

rm -rf $tmp

```

##  Ð£Ð¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ 05. Ð Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¸ ÐºÐ¾Ð½ÐºÐ°Ñ‚ÐµÐ½Ð°Ñ†Ð¸Ñ
ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð´Ð»Ñ ÑÐ´Ð°Ñ‡Ð¸: `ex05/`
Ð¤Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸: `partitioner.sh`, `concatenator.sh`
Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ : Ð±ÐµÐ· Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð½Ð°Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð¸Ð½Ð¾Ð³Ð´Ð° Ð±Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ð° Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‹. ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð·Ð´ÐµÐ» Ð¸Ð¼ÐµÐµÑ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¹ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ ÐºÐ»ÑŽÑ‡ÐµÐ¹. ÐžÐ´Ð¸Ð½ Ð¸Ð· Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð² Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ â€” Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ. ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð·Ð´ÐµÐ» ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½ÑƒÑŽ Ð´Ð°Ñ‚Ñƒ. Ð’ ÑÑ‚Ð¾Ð¼ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ð¸ Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ.
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ partitioner.sh, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹: Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° Ð²Ñ…Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ 03 ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð´Ð°Ñ‚Ð°Ð¼Ð¸ `created_at` Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ñ… CSV-Ñ„Ð°Ð¹Ð»Ð°Ñ…, Ð½Ð°Ð·Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ñ ÑÑ‚Ð¾Ð¹ Ð´Ð°Ñ‚Ð¾Ð¹

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÐµÑ‰Ñ‘ Ð¾Ð´Ð¸Ð½ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ `concatenator.sh`, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹: Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ `partitioner.sh`
Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÐµÑ‚ Ð²ÑÐµ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² Ð¾Ð´Ð¸Ð½ CSV-Ñ„Ð°Ð¹Ð»

Ð’ Ñ„Ð°Ð¹Ð»Ð°Ñ… CSV Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸, ÐºÐ°Ðº Ð² Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ. CSV-Ñ„Ð°Ð¹Ð», Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ `concatenator.sh`, Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°Ñ‚ÑŒ Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ 3
Ð’Ð°ÑˆÐ¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼Ð¸. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ‚Ð¾Ñ€ `/bin/sh`.

**partitioner.sh**
```bash
#!bin/sh
GREEN='\e[1;36;108m'
FILE=../ex03/hh_positions.csv
tmp=tmp.csv
header=$(head -1 $FILE)
tail -20 $FILE > $tmp
exec 0< $tmp
read line
date=`echo $line | cut -d, -f 2 | cut -dT -f 1`
echo $header > $date.csv
echo $line >>  $date.csv
while read line
do
ndate=`echo $line | cut -d, -f 2 | cut -dT -f 1` # ${line:10:10} #Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚
if [ $date != $ndate ]
then
echo $header > $ndate.csv
echo $line >>  $ndate.csv
date=$ndate
else
echo $line >>  $date.csv
fi
done
printf "$GREEN âœ… partitioner.sh Execution completed successfully \e[31;0m \n"
rm -rf $tmp
```

**concatenator.sh**
```bash
#!bin/sh
RED='\e[1;31;108m'
GREEN='\e[1;36;108m'
def='\e[31;0m \n'
tmp=tmp.csv
FILE=../ex03/hh_positions.csv
OUTFILE=concat_file.csv
cat `ls *.csv` > $tmp
STR=`head -1 $tmp`
sed -i "/$STR/d" "$tmp"
 echo $STR > $OUTFILE
 cat $tmp >> $OUTFILE
rm -rf $tmp
printf "$GREEN âœ… concatenator.sh Execution completed successfully $def"
if cmp -s $FILE $OUTFILE ; then
    printf "$GREEN âœ… success \n\t$FILE = $OUTFILE $def";
    else
    printf "$RED ðŸ’¥ fail \n\t$FILE <> $OUTFILE $def";
fi
```
